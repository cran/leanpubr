<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="John Muschelli" />

<meta name="date" content="2018-08-14" />

<title>Getting Information From Leanpub</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Getting Information From Leanpub</h1>
<h4 class="author"><em>John Muschelli</em></h4>
<h4 class="date"><em>2018-08-14</em></h4>



<div id="leanpubr-package" class="section level1">
<h1>leanpubr Package:</h1>
<p>The goal of <code>leanpubr</code> is to provide provides access to the ‘Leanpub’ ‘API’ <a href="https://leanpub.com/help/api" class="uri">https://leanpub.com/help/api</a> for gathering information about publications and submissions to the ‘Leanpub’ platform.</p>
<div id="setting-the-api-key" class="section level2">
<h2>Setting the API key</h2>
<p>The main thing you need to do is get an API key from Leanpub. You can do this by visiting <a href="https://leanpub.com/author_dashboard/settings" class="uri">https://leanpub.com/author_dashboard/settings</a> if you are an author. If you are not an author, I don’t believe access to the API is possible. You can pass this <code>api_key</code> to functions in Leanpub (almost all prefixed by <code>lp_</code>), or you can set the environmental variable <code>LEANPUB_API_KEY</code>. You can set this in an interactive <code>R</code> session such as:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">Sys.setenv</span>(<span class="st">&quot;LEANPUB_API_KEY&quot;</span> =<span class="st"> &quot;YOUR_KEY&quot;</span>)</a></code></pre></div>
<p>or put this in your <code>~/.Renviron</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">LEANPUB_API_KEY =<span class="st"> &quot;YOUR_KEY&quot;</span></a></code></pre></div>
</div>
<div id="getting-data-about-a-book" class="section level2">
<h2>Getting Data about a book</h2>
<p>You can use <code>lp_summary</code> or <code>lp_book_info</code>, these are identical, to get information about any book in Leanpub:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(leanpubr)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">slug =<span class="st"> &quot;biostatmethods&quot;</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">res =<span class="st"> </span><span class="kw">lp_summary</span>(slug, <span class="dt">error =</span> <span class="ot">FALSE</span>, <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; GET command is:</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; Response [https://leanpub.com/biostatmethods.json]</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;   Date: 2018-08-14 13:57</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;   Status: 200</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;   Content-Type: application/json; charset=utf-8</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;   Size: 1.97 kB</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">res<span class="op">$</span>content</a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt; $id</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; [1] 46133</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; $title</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; [1] &quot;Methods in Biostatistics with R&quot;</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; $subtitle</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt; [1] &quot;A Rigorous and Practical Treatment of Biostatistics Foundations using R&quot;</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; $slug</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt; [1] &quot;biostatmethods&quot;</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">#&gt; $about_the_book</span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt; [1] &quot;&lt;p&gt;Biostatistics is easy to teach poorly. Too often, books focus on methodology with no emphasis on programming and practical implementations. In contrast, books focused on R programming and visualization rarely discuss foundational topics that provide the infrastructure needed by data analysts to make decisions, evaluate analytic tools, and get ready for new and unforeseen challenges. Thus, we are bridging this divide that had no reason to exist in the first place. The book is unapologetic about its focus on Biostatistics, that is Statistics with Biological, Public Health, and Medical applications, though we think that it could be used successfully for large Statistical and Data Science Courses. Data and code can be downloaded here: &lt;a href=\&quot;https://github.com/muschellij2/biostatmethods\&quot; target=\&quot;_blank\&quot;&gt;https://github.com/muschellij2/biostatmethods&lt;/a&gt;&lt;/p&gt;&quot;</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">#&gt; $total_revenue</span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">#&gt; [1] &quot;4421.59&quot;</span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt; $last_published_at</span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">#&gt; [1] &quot;2018-07-23T20:58:06.000Z&quot;</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-32" data-line-number="32"><span class="co">#&gt; $word_count</span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb3-34" data-line-number="34"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="co">#&gt; $page_count</span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"><span class="co">#&gt; [1] 478</span></a>
<a class="sourceLine" id="cb3-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-38" data-line-number="38"><span class="co">#&gt; $word_count_published</span></a>
<a class="sourceLine" id="cb3-39" data-line-number="39"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-41" data-line-number="41"><span class="co">#&gt; $page_count_published</span></a>
<a class="sourceLine" id="cb3-42" data-line-number="42"><span class="co">#&gt; [1] 478</span></a>
<a class="sourceLine" id="cb3-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-44" data-line-number="44"><span class="co">#&gt; $total_copies_sold</span></a>
<a class="sourceLine" id="cb3-45" data-line-number="45"><span class="co">#&gt; [1] 537</span></a>
<a class="sourceLine" id="cb3-46" data-line-number="46"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-47" data-line-number="47"><span class="co">#&gt; $meta_description</span></a>
<a class="sourceLine" id="cb3-48" data-line-number="48"><span class="co">#&gt; [1] &quot;Calculus and R based introduction to Biostatistics and Data Science&quot;</span></a>
<a class="sourceLine" id="cb3-49" data-line-number="49"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-50" data-line-number="50"><span class="co">#&gt; $author_string</span></a>
<a class="sourceLine" id="cb3-51" data-line-number="51"><span class="co">#&gt; [1] &quot;Ciprian Crainiceanu, Brian Caffo and John Muschelli&quot;</span></a>
<a class="sourceLine" id="cb3-52" data-line-number="52"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-53" data-line-number="53"><span class="co">#&gt; $url</span></a>
<a class="sourceLine" id="cb3-54" data-line-number="54"><span class="co">#&gt; [1] &quot;http://leanpub.com/biostatmethods&quot;</span></a>
<a class="sourceLine" id="cb3-55" data-line-number="55"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-56" data-line-number="56"><span class="co">#&gt; $title_page_url</span></a>
<a class="sourceLine" id="cb3-57" data-line-number="57"><span class="co">#&gt; [1] &quot;https://s3.amazonaws.com/titlepages.leanpub.com/biostatmethods/original?1526406340&quot;</span></a>
<a class="sourceLine" id="cb3-58" data-line-number="58"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-59" data-line-number="59"><span class="co">#&gt; $minimum_price</span></a>
<a class="sourceLine" id="cb3-60" data-line-number="60"><span class="co">#&gt; [1] &quot;9.99&quot;</span></a>
<a class="sourceLine" id="cb3-61" data-line-number="61"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-62" data-line-number="62"><span class="co">#&gt; $suggested_price</span></a>
<a class="sourceLine" id="cb3-63" data-line-number="63"><span class="co">#&gt; [1] &quot;20.0&quot;</span></a>
<a class="sourceLine" id="cb3-64" data-line-number="64"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-65" data-line-number="65"><span class="co">#&gt; $image</span></a>
<a class="sourceLine" id="cb3-66" data-line-number="66"><span class="co">#&gt; [1] &quot;https://s3.amazonaws.com/titlepages.leanpub.com/biostatmethods/medium?1526406340&quot;</span></a>
<a class="sourceLine" id="cb3-67" data-line-number="67"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-68" data-line-number="68"><span class="co">#&gt; $possible_reader_count</span></a>
<a class="sourceLine" id="cb3-69" data-line-number="69"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb3-70" data-line-number="70"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-71" data-line-number="71"><span class="co">#&gt; $pdf_published_url</span></a>
<a class="sourceLine" id="cb3-72" data-line-number="72"><span class="co">#&gt; [1] &quot;http://leanpub.com/s/1zUsJAR0yCakLR1RtdCBNA.pdf&quot;</span></a>
<a class="sourceLine" id="cb3-73" data-line-number="73"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-74" data-line-number="74"><span class="co">#&gt; $epub_published_url</span></a>
<a class="sourceLine" id="cb3-75" data-line-number="75"><span class="co">#&gt; [1] &quot;http://leanpub.com/s/1zUsJAR0yCakLR1RtdCBNA.epub&quot;</span></a>
<a class="sourceLine" id="cb3-76" data-line-number="76"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-77" data-line-number="77"><span class="co">#&gt; $mobi_published_url</span></a>
<a class="sourceLine" id="cb3-78" data-line-number="78"><span class="co">#&gt; [1] &quot;http://leanpub.com/s/1zUsJAR0yCakLR1RtdCBNA.mobi&quot;</span></a></code></pre></div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
